# Application Configuration
APP_ENV=development  # development or production
SERVER_ADDRESS=:8080

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=gorax
DB_SSLMODE=disable

# Redis Configuration
REDIS_ADDRESS=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Ory Kratos Configuration
KRATOS_PUBLIC_URL=http://localhost:4433
KRATOS_ADMIN_URL=http://localhost:4434

# Kratos Webhook Secret (for identity sync)
# Generate with: openssl rand -base64 32
KRATOS_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE

# OAuth2/OIDC Provider Credentials
# Google OAuth2
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth2
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Microsoft OAuth2
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# Worker Configuration
WORKER_CONCURRENCY=10
WORKER_QUEUE_URL=

# AWS Configuration (optional, for production)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=gorax-artifacts
AWS_SQS_QUEUE_URL=

# Webhook Event Cleanup Configuration
CLEANUP_ENABLED=true
CLEANUP_RETENTION_DAYS=30
CLEANUP_BATCH_SIZE=1000
CLEANUP_SCHEDULE=0 0 * * *  # Cron format: Daily at midnight

# Execution Retention Policy Configuration
RETENTION_ENABLED=true
RETENTION_DEFAULT_DAYS=90        # Default retention period in days
RETENTION_BATCH_SIZE=1000        # Number of executions to delete per batch
RETENTION_RUN_INTERVAL=24h       # How often to run cleanup (e.g., 24h, 12h, 1h)
RETENTION_ENABLE_AUDIT_LOG=true  # Enable audit logging of cleanup operations

# Observability Configuration

# Metrics (Prometheus)
METRICS_ENABLED=true
METRICS_PORT=9090

# Distributed Tracing (OpenTelemetry)
TRACING_ENABLED=false
TRACING_ENDPOINT=localhost:4317  # OTLP endpoint (Jaeger, Zipkin, etc.)
TRACING_SAMPLE_RATE=1.0          # 0.0 to 1.0 (1.0 = 100% sampling)
TRACING_SERVICE_NAME=gorax

# Error Tracking (Sentry)
SENTRY_ENABLED=false
SENTRY_DSN=                      # Get from https://sentry.io
SENTRY_ENVIRONMENT=development   # development, staging, production
SENTRY_SAMPLE_RATE=1.0           # 0.0 to 1.0 (1.0 = 100% error sampling)

# Notification Configuration
NOTIFICATION_ENABLE_EMAIL=false         # Enable email notifications
NOTIFICATION_ENABLE_SLACK=false         # Enable Slack notifications
NOTIFICATION_ENABLE_INAPP=true          # Enable in-app notifications

# Email Notification Settings
NOTIFICATION_EMAIL_PROVIDER=smtp        # smtp or ses
NOTIFICATION_EMAIL_FROM=noreply@example.com
NOTIFICATION_SMTP_HOST=                 # SMTP server host (e.g., smtp.gmail.com)
NOTIFICATION_SMTP_PORT=587              # SMTP server port
NOTIFICATION_SMTP_USER=                 # SMTP username
NOTIFICATION_SMTP_PASS=                 # SMTP password
NOTIFICATION_SMTP_TLS=true              # Use TLS for SMTP
NOTIFICATION_EMAIL_MAX_RETRIES=3        # Max retry attempts for email
NOTIFICATION_EMAIL_RETRY_DELAY_SECONDS=1

# AWS SES Settings (if using SES provider)
NOTIFICATION_SES_REGION=us-east-1

# Slack Notification Settings
NOTIFICATION_SLACK_WEBHOOK_URL=         # Slack incoming webhook URL
NOTIFICATION_SLACK_MAX_RETRIES=3
NOTIFICATION_SLACK_RETRY_DELAY_SECONDS=1
NOTIFICATION_SLACK_TIMEOUT_SECONDS=30

# In-App Notification Settings
NOTIFICATION_INAPP_RETENTION_DAYS=90    # Days to retain in-app notifications
